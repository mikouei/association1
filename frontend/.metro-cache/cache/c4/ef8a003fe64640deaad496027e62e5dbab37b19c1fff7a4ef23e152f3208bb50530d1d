{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../utils/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":31,"index":180}}],"key":"XoJ+jbKCrEi38eKczMqtlbk+TCk=","exportNames":["*"],"imports":1}},{"name":"react/jsx-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"3suYSPX9nHbHZ1xNTsKXtKj0atE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";function t(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(_e,'__esModule',{value:!0}),_e.PlatformAuthProvider=function({children:t}){const[s,f]=(0,e.useState)(null),[c,h]=(0,e.useState)(!0);(0,e.useEffect)(()=>{w()},[]);const w=async()=>{try{const t=await o.default.getItem('platformToken');if(t){const e=await n.default.get('/platform/me',{headers:{Authorization:`Bearer ${t}`}});f(e.data)}}catch(t){console.log('Platform auth check failed:',t),await o.default.removeItem('platformToken')}finally{h(!1)}};return(0,u.jsx)(l.Provider,{value:{superAdmin:s,loading:c,login:async(t,e)=>{const u=await n.default.post('/platform/login',{email:t,password:e}),{token:l,user:s}=u.data;return await o.default.removeItem('authToken'),await o.default.removeItem('user'),await o.default.removeItem('association'),await o.default.setItem('platformToken',l),f(s),s},logout:async()=>{await o.default.removeItem('platformToken'),delete n.default.defaults.headers.common.Authorization,f(null)}},children:t})},_e.usePlatformAuth=function(){const t=(0,e.useContext)(l);if(!t)throw new Error('usePlatformAuth must be used within a PlatformAuthProvider');return t};var e=r(d[0]),o=t(r(d[1])),n=t(r(d[2])),u=r(d[3]);const l=(0,e.createContext)(null)});","lineCount":1,"map":[[1,143,7,0,"_e"],[1,146,7,0,"PlatformAuthProvider"],[1,167,7,7],[1,177,7,37,"children"],[1,186,7,39,"children"],[1,190,8,2],[1,196,8,9,"superAdmin"],[1,198,8,21,"setSuperAdmin"],[1,202,8,38],[1,204,8,38,"useState"],[1,206,8,46,"useState"],[1,216,8,47],[1,223,9,9,"loading"],[1,225,9,18,"setLoading"],[1,229,9,32],[1,231,9,32,"useState"],[1,233,9,40,"useState"],[1,244,9,41],[1,248,11,2],[1,250,11,2,"useEffect"],[1,252,11,11,"useEffect"],[1,263,11,12],[1,268,12,4,"checkAuth"],[1,273,13,5],[1,277,15,2],[1,283,15,8,"checkAuth"],[1,285,15,20,"async"],[1,295,16,4],[1,299,17,6],[1,305,17,12,"token"],[1,313,17,26,"AsyncStorage"],[1,315,17,38,"default"],[1,323,17,39,"getItem"],[1,331,17,47],[1,348,18,6],[1,351,18,10,"token"],[1,353,18,17],[1,354,20,8],[1,360,20,14,"response"],[1,368,20,31,"api"],[1,370,20,34,"default"],[1,378,20,35,"get"],[1,382,20,39],[1,397,20,55],[1,398,21,10,"headers"],[1,406,21,19],[1,407,21,21,"Authorization"],[1,421,21,36],[1,431,21,46,"token"],[1,438,23,8,"setSuperAdmin"],[1,440,23,22,"response"],[1,442,23,31,"data"],[1,447,24,6],[1,448,25,4],[1,449,25,6],[1,455,25,13,"error"],[1,458,26,6,"console"],[1,466,26,14,"log"],[1,470,26,18],[1,500,26,49,"error"],[1,509,27,12,"AsyncStorage"],[1,511,27,24,"default"],[1,519,27,25,"removeItem"],[1,530,27,36],[1,546,28,4],[1,547,28,5],[1,555,29,6,"setLoading"],[1,558,29,17],[1,560,30,4],[1,563,56,2],[1,570,57,4],[1,572,57,4,"_reactJsxRuntime"],[1,574,57,4,"jsx"],[1,579,57,5,"PlatformAuthContext"],[1,581,57,25,"Provider"],[1,590,57,33],[1,591,57,34,"value"],[1,597,57,41],[1,598,57,43,"superAdmin"],[1,611,57,55,"loading"],[1,621,57,64,"login"],[1,627,33,16,"async"],[1,633,33,23,"email"],[1,635,33,30,"password"],[1,640,34,4],[1,646,34,10,"response"],[1,654,34,27,"api"],[1,656,34,30,"default"],[1,664,34,31,"post"],[1,669,34,36],[1,687,34,55],[1,688,34,57,"email"],[1,696,34,64,"password"],[1,710,35,10,"token"],[1,716,35,12,"token"],[1,718,35,17,"user"],[1,723,35,19,"user"],[1,726,35,28,"response"],[1,728,35,37,"data"],[1,733,46,4],[1,746,38,10,"AsyncStorage"],[1,748,38,22,"default"],[1,756,38,23,"removeItem"],[1,767,38,34],[1,786,39,10,"AsyncStorage"],[1,788,39,22,"default"],[1,796,39,23,"removeItem"],[1,807,39,34],[1,821,40,10,"AsyncStorage"],[1,823,40,22,"default"],[1,831,40,23,"removeItem"],[1,842,40,34],[1,863,42,10,"AsyncStorage"],[1,865,42,22,"default"],[1,873,42,23,"setItem"],[1,881,42,31],[1,897,42,48,"token"],[1,900,44,4,"setSuperAdmin"],[1,902,44,18,"user"],[1,905,46,11,"user"],[1,908,57,71,"logout"],[1,915,49,17,"async"],[1,931,50,10,"AsyncStorage"],[1,933,50,22,"default"],[1,941,50,23,"removeItem"],[1,952,50,34],[1,976,52,11,"api"],[1,978,52,14,"default"],[1,986,52,15,"defaults"],[1,995,52,24,"headers"],[1,1003,52,32,"common"],[1,1010,52,54],[1,1024,53,4,"setSuperAdmin"],[1,1026,53,18],[1,1034,57,80,"children"],[1,1043,58,7,"children"],[1,1046,61,0],[1,1048,63,0,"_e"],[1,1051,63,0,"usePlatformAuth"],[1,1067,63,7],[1,1078,64,2],[1,1084,64,8,"context"],[1,1087,64,18],[1,1089,64,18,"useContext"],[1,1091,64,28,"useContext"],[1,1103,64,29,"PlatformAuthContext"],[1,1106,65,2],[1,1110,65,7,"context"],[1,1112,66,4],[1,1118,66,10],[1,1122,66,14,"Error"],[1,1128,66,20],[1,1190,68,2],[1,1197,68,9,"context"],[1,1198,69,0],[1,1200,1,0],[1,1204,1,0,"_react"],[1,1206,1,0,"r"],[1,1208,1,0,"d"],[1,1210,1,0],[1,1214,2,0,"AsyncStorage"],[1,1216,2,0,"_interopDefault"],[1,1218,2,0,"r"],[1,1220,2,0,"d"],[1,1222,2,0],[1,1227,3,0,"api"],[1,1229,3,0,"_interopDefault"],[1,1231,3,0,"r"],[1,1233,3,0,"d"],[1,1235,3,0],[1,1240,3,31,"_reactJsxRuntime"],[1,1242,3,31,"r"],[1,1244,3,31,"d"],[1,1246,3,31],[1,1250,5,0],[1,1256,5,6,"PlatformAuthContext"],[1,1259,5,28],[1,1261,5,28,"createContext"],[1,1263,5,41,"createContext"],[1,1278,5,42],[1,1283,69,1],[1,1286]],"functionMap":{"names":["<global>","PlatformAuthProvider","useEffect$argument_0","checkAuth","login","logout","usePlatformAuth"],"mappings":"AAA;OCM;YCI;GDE;oBEE;GFgB;gBGE;GHc;iBIE;GJK;CDO;OME;CNM"},"hasCjsExports":false},"type":"js/module"}]}